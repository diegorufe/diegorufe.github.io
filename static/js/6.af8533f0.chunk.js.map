{"version":3,"sources":["rfreactlib/confirm/index.js"],"names":["ConfirmComponent","props","acctionYesConfirm","actionYesConfirm","bind","className","RFContext","i18n","__","onClick","event","modal","modalComponent","closeModal","self","this","responseMethod","UtilsError","applyFunctionWithHandlerError","baseComponent","params","getResponseMethodFromException","hasError","renderError","modelProperties","takeModelProperties","model","properties","valueRender","length","isString","undefined","trim","ex","Uint8Array","data","property","split","crudComponent","element","BaseComponent"],"mappings":"sSASqBA,E,kDACnB,WAAYC,GAAQ,IAAD,8BACjB,cAAMA,IACDC,kBAAoB,EAAKC,iBAAiBC,KAAtB,gBAFR,E,4DAKF,IAAD,OA2Bd,OAvBE,yBAAKC,UAAU,iBACb,yBAAKA,UAAU,wBACZC,IAAUC,KAAKC,GAAG,oBAErB,yBAAKH,UAAU,yBACb,4BACEA,UAAU,2CACVI,QAAS,kBAAM,EAAKN,qBAEpB,uBAAGE,UAAU,sBAEf,4BACEA,UAAU,gBACVI,QAAS,SAACC,GAAD,OACP,EAAKT,MAAMU,MAAMC,eAAeC,WAAWH,GAAO,KAGpD,uBAAGL,UAAU,4B,kKAafS,EAAOC,KACTC,EAAiB,K,kBAEIC,IAAWC,+BAA8B,WAC9DJ,EAAKb,MAAMU,MAAMQ,cACfL,EAAKb,MAAMU,MAAMC,eAAeX,MAAMmB,OAAtC,WACAN,EAAKb,MAAMU,MAAMC,eAAeX,MAAMmB,OAAtC,SACFN,EAAKb,MAAMU,MAAMC,eAAeC,WAAW,MAAM,M,OAJnDG,E,uDAOAA,EAAiBC,IAAWI,+BAAX,M,QAIfL,EAAeM,YACjBP,KAAKQ,YAAYP,G,mJAKnB,IAAIQ,EAAkBT,KAAKU,sBACvBC,EAAQF,EAAgB,GACxBG,EAAaH,EAAgB,GAC7BI,EAAc,KAEdD,EAAWE,QAAU,EACvBD,EAAcF,EAAMC,EAAW,IACD,GAArBA,EAAWE,OACpBD,EAAcF,EAAMC,EAAW,IAAIA,EAAW,IAChB,GAArBA,EAAWE,SACpBD,EAAcF,EAAMC,EAAW,IAAIA,EAAW,IAAIA,EAAW,KAG/D,IAAIG,GAAW,EAEf,IACqB,MAAfF,QAAsCG,GAAfH,GACzBA,EAAYI,OAEd,MAAOC,GACPH,GAAW,EAYb,OARiB,MAAfF,QACeG,GAAfH,GACCE,GACCF,aAAuBM,aAEzBN,EAAc,IAAIM,WAAWN,EAAYO,OAGpCP,I,4CAIP,IACID,EAAa,KACbD,EAAQ,KAeZ,OAbwB,MAApBX,KAAKd,MAAMyB,YAAqCK,GAApBhB,KAAKd,MAAMyB,OACzCA,EAAQX,KAAKd,MAAMyB,MACnBC,EAAaZ,KAAKd,MAAMmC,SAASC,MANZ,sBAQO,MAA5BtB,KAAKd,MAAMqC,oBACiBP,GAA5BhB,KAAKd,MAAMqC,eAEXZ,EAAQX,KAAKd,MAAMqC,cAAcC,QACjCZ,EAAaZ,KAAKd,MAAMmC,SAASC,MAZZ,uBAcrBX,EAAQX,KAAKd,MAAMyB,MACnBC,EAAaZ,KAAKd,MAAMmC,SAASC,MAfZ,sBAiBhB,CAACX,EAAOC,O,GAjH2Ba","file":"static/js/6.af8533f0.chunk.js","sourcesContent":["import React from \"react\";\r\nimport \"./index.css\";\r\nimport BaseComponent from \"../base/baseComponent\";\r\nimport RFContext from \"../context\";\r\nimport UtilsError from \"../utils/UtilsError\";\r\n\r\n/**\r\n * Confirm component for modals\r\n */\r\nexport default class ConfirmComponent extends BaseComponent {\r\n  constructor(props) {\r\n    super(props);\r\n    this.acctionYesConfirm = this.actionYesConfirm.bind(this);\r\n  }\r\n\r\n  defaultRender() {\r\n    let container = null;\r\n\r\n    container = (\r\n      <div className=\"FullContainer\">\r\n        <div className=\"ConfirmActionMessage\">\r\n          {RFContext.i18n.__(\"rf.confirmation\")}\r\n        </div>\r\n        <div className=\"ConfirmActionAcctions\">\r\n          <button\r\n            className=\"ConfirmButton ConfirmActionAcctionsFirst\"\r\n            onClick={() => this.actionYesConfirm()}\r\n          >\r\n            <i className=\"far fa-thumbs-up\"></i>\r\n          </button>\r\n          <button\r\n            className=\"ConfirmButton\"\r\n            onClick={(event) =>\r\n              this.props.modal.modalComponent.closeModal(event, true)\r\n            }\r\n          >\r\n            <i className=\"far fa-thumbs-down\"></i>\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n\r\n    return container;\r\n  }\r\n\r\n  /**\r\n   * Action yes confirm modal\r\n   */\r\n  async actionYesConfirm() {\r\n    const self = this;\r\n    let responseMethod = null;\r\n    try {\r\n      responseMethod = await UtilsError.applyFunctionWithHandlerError(() => {\r\n        self.props.modal.baseComponent[\r\n          self.props.modal.modalComponent.props.params[\"actionYes\"]\r\n        ](self.props.modal.modalComponent.props.params[\"element\"]);\r\n        self.props.modal.modalComponent.closeModal(null, true);\r\n      });\r\n    } catch (exception) {\r\n      responseMethod = UtilsError.getResponseMethodFromException(exception);\r\n    }\r\n\r\n    // If hass error send to error page\r\n    if (responseMethod.hasError()) {\r\n      this.renderError(responseMethod);\r\n    }\r\n  }\r\n\r\n  renderValue() {\r\n    let modelProperties = this.takeModelProperties();\r\n    let model = modelProperties[0];\r\n    let properties = modelProperties[1];\r\n    let valueRender = null;\r\n\r\n    if (properties.length <= 1) {\r\n      valueRender = model[properties[0]];\r\n    } else if (properties.length == 2) {\r\n      valueRender = model[properties[0]][properties[1]];\r\n    } else if (properties.length == 3) {\r\n      valueRender = model[properties[0]][properties[1]][properties[2]];\r\n    }\r\n\r\n    let isString = true;\r\n\r\n    try {\r\n      if (valueRender != null && valueRender != undefined) {\r\n        valueRender.trim();\r\n      }\r\n    } catch (ex) {\r\n      isString = false;\r\n    }\r\n\r\n    if (\r\n      valueRender != null &&\r\n      valueRender != undefined &&\r\n      !isString &&\r\n      !(valueRender instanceof Uint8Array)\r\n    ) {\r\n      valueRender = new Uint8Array(valueRender.data);\r\n    }\r\n\r\n    return valueRender;\r\n  }\r\n\r\n  takeModelProperties() {\r\n    const fieldSeparator = \"_FIELD_SEPARATOR_\";\r\n    let properties = null;\r\n    let model = null;\r\n\r\n    if (this.props.model != null && this.props.model != undefined) {\r\n      model = this.props.model;\r\n      properties = this.props.property.split(fieldSeparator);\r\n    } else if (\r\n      this.props.crudComponent != null &&\r\n      this.props.crudComponent != undefined\r\n    ) {\r\n      model = this.props.crudComponent.element;\r\n      properties = this.props.property.split(fieldSeparator);\r\n    } else {\r\n      model = this.props.model;\r\n      properties = this.props.property.split(fieldSeparator);\r\n    }\r\n    return [model, properties];\r\n  }\r\n}\r\n"],"sourceRoot":""}